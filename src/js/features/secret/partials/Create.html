<div>
    <h2>信息创建</h2>
    <button class="btn btn-info btn-sm pull-right" style="margin-bottom: 10px;" ng-disabled="addNewInfoForm.$invalid" ng-click="create.addInfo()">&nbsp;保存&nbsp;</button>
</div>
<form name="addNewInfoForm" class="form-horizontal">
    <div class="form-group">
        <label for="name" class="col-sm-2 control-label">信息名</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="create.info.name" placeholder="信息名" required>
        </div>
    </div>
    <div class="form-group">
        <label for="desc" class="col-sm-2 control-label">信息描述</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows="3" ng-model="create.info.desc" placeholder="信息描述" required></textarea>
        </div>
    </div>
</form>
<hr/>
<form name="addNewItemForm" ng-submit="create.addNewItem()" role="form">
    <table st-table="create.items" class="table table-striped table-hover">
        <thead>
            <tr>
                <th st-ratio="38" st-sort="key">内容键</th>
                <th st-ratio="37" st-sort="value">内容值</th>
                <th st-ratio="25">操作</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in create.items track by $index" class="scale-fade">
                <td st-ratio="38" ng-if="!item.isEditing" ng-dblclick="create.enableEditItem(item)" data-title="双击修改" bs-tooltip>{{ item.key }}</td>
                <td st-ratio="38" ng-if="item.isEditing"><input type="text" ng-model="item.editKey" class="form-control"></td>

                <td st-ratio="37" ng-if="!item.isEditing" ng-dblclick="create.enableEditItem(item)" data-title="双击修改" bs-tooltip>{{ item.value }}</td>
                <td st-ratio="37" ng-if="item.isEditing" ng-dblclick="create.enableEditItem(item)" data-title="双击修改" bs-tooltip><input type="text" ng-model="item.editValue" class="form-control"></td>

                <td st-ratio="25" style="text-align: right;">
                    <button ng-if="!item.isEditing" type="button" ng-click="create.removeItem(item)" class="btn btn-danger btn-sm">删除</button>
                    <button ng-if="item.isEditing" type="button" ng-click="create.edit.editItem(item, $event)" class="btn btn-warning btn-sm">修改</button>
                    <button ng-if="item.isEditing" type="button" ng-click="create.edit.cancelEditItem(item, $event)" class="btn btn-default btn-sm">取消</button>
                </td>
            </tr>
            <tr>
                <td st-ratio="38">
                    <input type="text" autofocus name="key" class="input-sm form-control" ng-model="create.newItem.key" placeholder="如：用户名" required>
                </td>
                <td st-ratio="37">
                    <input type="text" name="value" class="input-sm form-control" ng-model="create.newItem.value"  placeholder="如：当年明月" required>
                </td>
                <td st-ratio="25" style="text-align: right;">
                    <button type="submit" class="btn btn-info btn-sm" ng-disabled="addNewItemForm.$invalid">新增</button>
                </td>
            </tr>
        </tbody>
    </table>
</form>